<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>第一个 ECharts 实例</title>
    <!-- 引入 echarts.js -->
    <script src="https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 700px;height:400px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
 
        // 指定图表的配置项和数据

option = {
    color: [
        '#b2182b', '#d6604d', '#f4a582',  '#d1e5f0', '#4393c3', '#2166ac', '#053061'
    ],
    tooltip: {
        trigger: 'item',
        triggerOn: 'Courier New'
    },
textStyle: {
          fontFamily: 'monospace'
 },
       toolbox: {
                                    show: true,
                                    feature: {
                                        magicType: {
                                            type: ['stack', 'tiled']
                                        },
                                        dataView: {show:true},
                                        saveAsImage: {
                                            show:true,
                                            excludeComponents :['toolbox'],
                                            pixelRatio: 2
                                            
                                        }
                                    }
                                },
    animation: false,
    series: [
        {
            type: 'sankey',
            bottom: '10%',
            focusNodeAdjacency: 'allEdges',
            data: [
                {name: '时间够'},
                {name: '时间不够'},
                {name: '有时够,有时不够'},
                {name: '愿意延后晚课时间'},
                {name: '不愿意延后晚课时间'},
                {name: '延至18:40-18:50'},
                {name: '延至18:50-19:00'},
                {name: '延至19:00后'}
            ],
            links: [
                {source: '时间够', target: '愿意延后晚课时间', value: 1},
                {source: '时间够', target: '不愿意延后晚课时间', value: 4},
                {source: '时间不够', target: '愿意延后晚课时间', value: 107},
                {source: '时间不够', target: '不愿意延后晚课时间', value: 24},
                {source: '有时够,有时不够', target: '愿意延后晚课时间', value: 19},
                {source: '有时够,有时不够', target: '不愿意延后晚课时间', value: 5},
                {source: '愿意延后晚课时间', target: '延至18:40-18:50', value:32},
                {source: '愿意延后晚课时间', target: '延至18:50-19:00', value:59},
                {source: '愿意延后晚课时间', target: '延至19:00后', value:36},
            ],
            orient: 'vertical',
            label: {
                position: 'top'
            },
            lineStyle: {
                color: 'source',
                curveness: 0.5
            }
        }
    ]
}

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>
</html>
